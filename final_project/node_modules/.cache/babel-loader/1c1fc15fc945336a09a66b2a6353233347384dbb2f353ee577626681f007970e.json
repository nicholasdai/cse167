{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\nimport InternalButton from '../button/internal.js';\nimport InternalButtonDropdown from '../button-dropdown/internal.js';\nimport InternalFormField from '../form-field/internal.js';\nimport { FormFieldContext } from '../internal/context/form-field-context.js';\nimport { useListFocusController } from '../internal/hooks/use-list-focus-controller.js';\nimport { useMobile } from '../internal/hooks/use-mobile/index.js';\nimport { useUniqueId } from '../internal/hooks/use-unique-id/index.js';\nimport { getAllowedOperators } from './controller.js';\nimport { OperatorInput, PropertyInput, ValueInput } from './token-editor-inputs.js';\nimport styles from './styles.css.js';\nimport testUtilStyles from './test-classes/styles.css.js';\nexport function TokenEditor({\n  supportsGroups,\n  asyncProperties,\n  asyncProps,\n  customGroupsText,\n  freeTextFiltering,\n  filteringProperties,\n  filteringOptions,\n  i18nStrings,\n  onLoadItems,\n  onSubmit,\n  onDismiss,\n  tokensToCapture,\n  onTokenCapture,\n  onTokenRelease,\n  tempGroup,\n  onChangeTempGroup\n}) {\n  var _a;\n  const [nextFocusIndex, setNextFocusIndex] = useState(null);\n  const tokenListRef = useListFocusController({\n    nextFocusIndex,\n    onFocusMoved: target => {\n      target.focus();\n      setNextFocusIndex(null);\n    },\n    listItemSelector: `.${styles['token-editor-field-property']}`,\n    fallbackSelector: `.${styles['token-editor-add-token']}`\n  });\n  const groups = tempGroup.map((temporaryToken, index) => {\n    const setTemporaryToken = newToken => {\n      var _a;\n      const copy = [...tempGroup];\n      copy[index] = newToken;\n      if (((_a = newToken.property) === null || _a === void 0 ? void 0 : _a.getTokenType(newToken.operator)) === 'enum' && newToken.value === null) {\n        newToken.value = [];\n      }\n      onChangeTempGroup(copy);\n    };\n    const property = temporaryToken.property;\n    const onChangePropertyKey = newPropertyKey => {\n      var _a;\n      const filteringProperty = filteringProperties.reduce((acc, property) => property.propertyKey === newPropertyKey ? property : acc, undefined);\n      const allowedOperators = filteringProperty ? getAllowedOperators(filteringProperty) : freeTextFiltering.operators;\n      const operator = temporaryToken.operator && allowedOperators.indexOf(temporaryToken.operator) !== -1 ? temporaryToken.operator : allowedOperators[0];\n      const matchedProperty = (_a = filteringProperties.find(property => property.propertyKey === newPropertyKey)) !== null && _a !== void 0 ? _a : null;\n      setTemporaryToken(Object.assign(Object.assign({}, temporaryToken), {\n        property: matchedProperty,\n        operator,\n        value: null\n      }));\n    };\n    const operator = temporaryToken.operator;\n    const onChangeOperator = newOperator => {\n      const currentOperatorTokenType = property === null || property === void 0 ? void 0 : property.getTokenType(operator);\n      const newOperatorTokenType = property === null || property === void 0 ? void 0 : property.getTokenType(newOperator);\n      const shouldClearValue = currentOperatorTokenType !== newOperatorTokenType;\n      const value = shouldClearValue ? null : temporaryToken.value;\n      setTemporaryToken(Object.assign(Object.assign({}, temporaryToken), {\n        operator: newOperator,\n        value\n      }));\n    };\n    const value = temporaryToken.value;\n    const onChangeValue = newValue => {\n      setTemporaryToken(Object.assign(Object.assign({}, temporaryToken), {\n        value: newValue\n      }));\n    };\n    return {\n      token: temporaryToken,\n      property,\n      onChangePropertyKey,\n      operator,\n      onChangeOperator,\n      value,\n      onChangeValue\n    };\n  });\n  return React.createElement(\"div\", {\n    className: styles['token-editor'],\n    ref: tokenListRef\n  }, React.createElement(TokenEditorFields, {\n    supportsGroups: supportsGroups,\n    tokens: groups.map(group => group.token),\n    onRemove: index => {\n      const updated = tempGroup.filter((_, existingIndex) => existingIndex !== index);\n      onChangeTempGroup(updated);\n      setNextFocusIndex(index);\n    },\n    onRemoveFromGroup: index => {\n      const releasedToken = tempGroup[index];\n      const updated = tempGroup.filter((_, existingIndex) => existingIndex !== index);\n      onChangeTempGroup(updated);\n      onTokenRelease(releasedToken);\n      setNextFocusIndex(index);\n    },\n    onSubmit: onSubmit,\n    renderProperty: index => React.createElement(PropertyInput, {\n      property: groups[index].property,\n      onChangePropertyKey: groups[index].onChangePropertyKey,\n      asyncProps: asyncProperties ? asyncProps : null,\n      filteringProperties: filteringProperties,\n      onLoadItems: onLoadItems,\n      customGroupsText: customGroupsText,\n      i18nStrings: i18nStrings,\n      freeTextFiltering: freeTextFiltering\n    }),\n    renderOperator: index => React.createElement(OperatorInput, {\n      property: groups[index].property,\n      operator: groups[index].operator,\n      onChangeOperator: groups[index].onChangeOperator,\n      i18nStrings: i18nStrings,\n      freeTextFiltering: freeTextFiltering,\n      triggerVariant: supportsGroups ? 'label' : 'option'\n    }),\n    renderValue: index => React.createElement(ValueInput, {\n      property: groups[index].property,\n      operator: groups[index].operator,\n      value: groups[index].value,\n      onChangeValue: groups[index].onChangeValue,\n      asyncProps: asyncProps,\n      filteringOptions: filteringOptions,\n      onLoadItems: onLoadItems,\n      i18nStrings: i18nStrings\n    }),\n    i18nStrings: i18nStrings\n  }), supportsGroups && React.createElement(\"div\", {\n    className: clsx(styles['token-editor-add-token'], testUtilStyles['token-editor-token-add-actions'])\n  }, React.createElement(InternalButtonDropdown, {\n    variant: \"normal\",\n    ariaLabel: i18nStrings.tokenEditorAddTokenActionsAriaLabel,\n    items: tokensToCapture.map((token, index) => {\n      var _a, _b, _c, _d;\n      return {\n        id: index.toString(),\n        text: (_b = (_a = i18nStrings.tokenEditorAddExistingTokenLabel) === null || _a === void 0 ? void 0 : _a.call(i18nStrings, token)) !== null && _b !== void 0 ? _b : '',\n        ariaLabel: (_d = (_c = i18nStrings.tokenEditorAddExistingTokenAriaLabel) === null || _c === void 0 ? void 0 : _c.call(i18nStrings, token)) !== null && _d !== void 0 ? _d : ''\n      };\n    }),\n    onItemClick: ({\n      detail\n    }) => {\n      const index = parseInt(detail.id);\n      if (!isNaN(index) && tokensToCapture[index]) {\n        onChangeTempGroup([...tempGroup, Object.assign({}, tokensToCapture[index])]);\n        setNextFocusIndex(groups.length);\n        onTokenCapture(tokensToCapture[index]);\n      }\n    },\n    disabled: tokensToCapture.length === 0,\n    showMainActionOnly: tokensToCapture.length === 0,\n    mainAction: {\n      text: (_a = i18nStrings.tokenEditorAddNewTokenLabel) !== null && _a !== void 0 ? _a : '',\n      onClick: () => {\n        var _a;\n        const lastTokenInGroup = tempGroup[tempGroup.length - 1];\n        const property = lastTokenInGroup ? lastTokenInGroup.property : null;\n        const operator = (_a = property === null || property === void 0 ? void 0 : property.defaultOperator) !== null && _a !== void 0 ? _a : ':';\n        onChangeTempGroup([...tempGroup, {\n          property,\n          operator,\n          value: null\n        }]);\n        setNextFocusIndex(groups.length);\n      }\n    }\n  })), React.createElement(\"div\", {\n    className: styles['token-editor-actions']\n  }, React.createElement(\"span\", Object.assign({}, getAnalyticsMetadataAttribute({\n    action: 'editCancel'\n  })), React.createElement(InternalButton, {\n    formAction: \"none\",\n    variant: \"link\",\n    className: clsx(styles['token-editor-cancel'], testUtilStyles['token-editor-cancel']),\n    onClick: onDismiss\n  }, i18nStrings.cancelActionText)), React.createElement(\"span\", Object.assign({}, getAnalyticsMetadataAttribute({\n    action: 'editConfirm'\n  })), React.createElement(InternalButton, {\n    className: clsx(styles['token-editor-submit'], testUtilStyles['token-editor-submit']),\n    formAction: \"none\",\n    onClick: onSubmit\n  }, i18nStrings.applyActionText))));\n}\nfunction TokenEditorFields({\n  tokens,\n  supportsGroups,\n  onRemove,\n  onRemoveFromGroup,\n  onSubmit,\n  renderProperty,\n  renderOperator,\n  renderValue,\n  i18nStrings\n}) {\n  const isMobile = useMobile();\n  const isNarrow = isMobile || !supportsGroups;\n  const propertyLabelId = useUniqueId();\n  const operatorLabelId = useUniqueId();\n  const valueLabelId = useUniqueId();\n  const headers = React.createElement(\"div\", {\n    className: styles['token-editor-grid-group']\n  }, React.createElement(\"div\", {\n    id: propertyLabelId,\n    className: styles['token-editor-grid-header']\n  }, i18nStrings.propertyText), React.createElement(\"div\", {\n    id: operatorLabelId,\n    className: styles['token-editor-grid-header']\n  }, i18nStrings.operatorText), React.createElement(\"div\", {\n    id: valueLabelId,\n    className: styles['token-editor-grid-header']\n  }, i18nStrings.valueText), React.createElement(\"div\", {\n    className: styles['token-editor-grid-header']\n  }));\n  return React.createElement(\"form\", {\n    className: clsx(styles['token-editor-grid'], isNarrow && styles['token-editor-narrow'], styles['token-editor-form']),\n    onSubmit: event => {\n      event.preventDefault();\n      onSubmit();\n    }\n  }, !isNarrow && headers, tokens.map((token, index) => {\n    var _a, _b, _c, _d, _e, _f;\n    return React.createElement(\"div\", {\n      key: index,\n      role: \"group\",\n      \"aria-label\": i18nStrings.formatToken(token).formattedText,\n      className: clsx(styles['token-editor-grid-group'], supportsGroups && styles['token-editor-supports-groups'])\n    }, React.createElement(\"div\", {\n      className: clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])\n    }, React.createElement(TokenEditorField, {\n      isNarrow: isNarrow,\n      label: i18nStrings.propertyText,\n      labelId: propertyLabelId,\n      className: clsx(styles['token-editor-field-property'], testUtilStyles['token-editor-field-property']),\n      index: index\n    }, renderProperty(index))), React.createElement(\"div\", {\n      className: clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])\n    }, React.createElement(TokenEditorField, {\n      isNarrow: isNarrow,\n      label: i18nStrings.operatorText,\n      labelId: operatorLabelId,\n      className: clsx(styles['token-editor-field-operator'], testUtilStyles['token-editor-field-operator']),\n      index: index\n    }, renderOperator(index))), React.createElement(\"div\", {\n      className: clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])\n    }, React.createElement(TokenEditorField, {\n      isNarrow: isNarrow,\n      label: i18nStrings.valueText,\n      labelId: valueLabelId,\n      className: clsx(styles['token-editor-field-value'], testUtilStyles['token-editor-field-value']),\n      index: index\n    }, renderValue(index))), supportsGroups && React.createElement(\"div\", {\n      className: clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])\n    }, React.createElement(\"div\", {\n      className: styles['token-editor-remove-token']\n    }, React.createElement(TokenEditorRemoveActions, {\n      isNarrow: isNarrow,\n      ariaLabel: (_b = (_a = i18nStrings.tokenEditorTokenActionsAriaLabel) === null || _a === void 0 ? void 0 : _a.call(i18nStrings, token)) !== null && _b !== void 0 ? _b : '',\n      mainActionAriaLabel: (_d = (_c = i18nStrings.tokenEditorTokenRemoveAriaLabel) === null || _c === void 0 ? void 0 : _c.call(i18nStrings, token)) !== null && _d !== void 0 ? _d : '',\n      disabled: tokens.length === 1,\n      items: [{\n        id: 'remove',\n        text: (_e = i18nStrings.tokenEditorTokenRemoveLabel) !== null && _e !== void 0 ? _e : '',\n        disabled: token.standaloneIndex !== undefined\n      }, {\n        id: 'remove-from-group',\n        text: (_f = i18nStrings.tokenEditorTokenRemoveFromGroupLabel) !== null && _f !== void 0 ? _f : ''\n      }],\n      onItemClick: itemId => {\n        switch (itemId) {\n          case 'remove':\n            return onRemove(index);\n          case 'remove-from-group':\n            return onRemoveFromGroup(index);\n        }\n      },\n      index: index\n    }))));\n  }));\n}\nfunction TokenEditorField({\n  isNarrow,\n  label,\n  labelId,\n  children,\n  className,\n  index\n}) {\n  return isNarrow ? React.createElement(InternalFormField, {\n    label: label,\n    className: className,\n    stretch: true,\n    \"data-testindex\": index\n  }, children) : React.createElement(FormFieldContext.Provider, {\n    value: {\n      ariaLabelledby: labelId\n    }\n  }, React.createElement(InternalFormField, {\n    className: className,\n    \"data-testindex\": index\n  }, children));\n}\nfunction TokenEditorRemoveActions({\n  isNarrow,\n  ariaLabel,\n  mainActionAriaLabel,\n  disabled,\n  items,\n  onItemClick,\n  index\n}) {\n  return isNarrow ? React.createElement(InternalButtonDropdown, {\n    variant: \"normal\",\n    ariaLabel: ariaLabel,\n    items: items.slice(1),\n    onItemClick: ({\n      detail\n    }) => onItemClick(detail.id),\n    disabled: disabled,\n    mainAction: {\n      text: items[0].text,\n      onClick: () => onItemClick(items[0].id),\n      disabled,\n      ariaLabel: mainActionAriaLabel\n    },\n    className: testUtilStyles['token-editor-token-remove-actions'],\n    \"data-testindex\": index\n  }) : React.createElement(InternalButtonDropdown, {\n    variant: \"icon\",\n    ariaLabel: ariaLabel,\n    items: items,\n    onItemClick: ({\n      detail\n    }) => onItemClick(detail.id),\n    disabled: disabled,\n    className: testUtilStyles['token-editor-token-remove-actions'],\n    \"data-testindex\": index\n  });\n}","map":{"version":3,"names":["React","useState","clsx","getAnalyticsMetadataAttribute","InternalButton","InternalButtonDropdown","InternalFormField","FormFieldContext","useListFocusController","useMobile","useUniqueId","getAllowedOperators","OperatorInput","PropertyInput","ValueInput","styles","testUtilStyles","TokenEditor","supportsGroups","asyncProperties","asyncProps","customGroupsText","freeTextFiltering","filteringProperties","filteringOptions","i18nStrings","onLoadItems","onSubmit","onDismiss","tokensToCapture","onTokenCapture","onTokenRelease","tempGroup","onChangeTempGroup","nextFocusIndex","setNextFocusIndex","tokenListRef","onFocusMoved","target","focus","listItemSelector","fallbackSelector","groups","map","temporaryToken","index","setTemporaryToken","newToken","copy","_a","property","getTokenType","operator","value","onChangePropertyKey","newPropertyKey","filteringProperty","reduce","acc","propertyKey","undefined","allowedOperators","operators","indexOf","matchedProperty","find","Object","assign","onChangeOperator","newOperator","currentOperatorTokenType","newOperatorTokenType","shouldClearValue","onChangeValue","newValue","token","createElement","className","ref","TokenEditorFields","tokens","group","onRemove","updated","filter","_","existingIndex","onRemoveFromGroup","releasedToken","renderProperty","renderOperator","triggerVariant","renderValue","variant","ariaLabel","tokenEditorAddTokenActionsAriaLabel","items","id","toString","text","_b","tokenEditorAddExistingTokenLabel","call","_d","_c","tokenEditorAddExistingTokenAriaLabel","onItemClick","detail","parseInt","isNaN","length","disabled","showMainActionOnly","mainAction","tokenEditorAddNewTokenLabel","onClick","lastTokenInGroup","defaultOperator","action","formAction","cancelActionText","applyActionText","isMobile","isNarrow","propertyLabelId","operatorLabelId","valueLabelId","headers","propertyText","operatorText","valueText","event","preventDefault","key","role","formatToken","formattedText","TokenEditorField","label","labelId","TokenEditorRemoveActions","tokenEditorTokenActionsAriaLabel","mainActionAriaLabel","tokenEditorTokenRemoveAriaLabel","_e","tokenEditorTokenRemoveLabel","standaloneIndex","_f","tokenEditorTokenRemoveFromGroupLabel","itemId","children","stretch","Provider","ariaLabelledby","slice"],"sources":["C:\\Users\\nicky\\Documents\\GitHub\\cse167\\final_project\\node_modules\\src\\property-filter\\token-editor.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport InternalButton from '../button/internal.js';\nimport { ButtonDropdownProps } from '../button-dropdown/interfaces.js';\nimport InternalButtonDropdown from '../button-dropdown/internal.js';\nimport InternalFormField from '../form-field/internal.js';\nimport { DropdownStatusProps } from '../internal/components/dropdown-status/interfaces.js';\nimport { FormFieldContext } from '../internal/context/form-field-context.js';\nimport { NonCancelableEventHandler } from '../internal/events/index.js';\nimport { useListFocusController } from '../internal/hooks/use-list-focus-controller.js';\nimport { useMobile } from '../internal/hooks/use-mobile/index.js';\nimport { useUniqueId } from '../internal/hooks/use-unique-id/index.js';\nimport {\n  GeneratedAnalyticsMetadataPropertyEditCancel,\n  GeneratedAnalyticsMetadataPropertyEditConfirm,\n} from './analytics-metadata/interfaces';\nimport { getAllowedOperators } from './controller.js';\nimport { I18nStringsInternal } from './i18n-utils.js';\nimport {\n  ComparisonOperator,\n  GroupText,\n  InternalFilteringOption,\n  InternalFilteringProperty,\n  InternalFreeTextFiltering,\n  InternalToken,\n  LoadItemsDetail,\n} from './interfaces.js';\nimport { OperatorInput, PropertyInput, ValueInput } from './token-editor-inputs.js';\n\nimport styles from './styles.css.js';\nimport testUtilStyles from './test-classes/styles.css.js';\n\nexport interface TokenEditorProps {\n  supportsGroups: boolean;\n  asyncProperties?: boolean;\n  asyncProps: DropdownStatusProps;\n  customGroupsText: readonly GroupText[];\n  freeTextFiltering: InternalFreeTextFiltering;\n  filteringProperties: readonly InternalFilteringProperty[];\n  filteringOptions: readonly InternalFilteringOption[];\n  i18nStrings: I18nStringsInternal;\n  onLoadItems?: NonCancelableEventHandler<LoadItemsDetail>;\n  onSubmit: () => void;\n  onDismiss: () => void;\n  tokensToCapture: InternalToken[];\n  onTokenCapture: (token: InternalToken) => void;\n  onTokenRelease: (token: InternalToken) => void;\n  tempGroup: InternalToken[];\n  onChangeTempGroup: (token: InternalToken[]) => void;\n}\n\nexport function TokenEditor({\n  supportsGroups,\n  asyncProperties,\n  asyncProps,\n  customGroupsText,\n  freeTextFiltering,\n  filteringProperties,\n  filteringOptions,\n  i18nStrings,\n  onLoadItems,\n  onSubmit,\n  onDismiss,\n  tokensToCapture,\n  onTokenCapture,\n  onTokenRelease,\n  tempGroup,\n  onChangeTempGroup,\n}: TokenEditorProps) {\n  const [nextFocusIndex, setNextFocusIndex] = useState<null | number>(null);\n  const tokenListRef = useListFocusController({\n    nextFocusIndex,\n    onFocusMoved: target => {\n      target.focus();\n      setNextFocusIndex(null);\n    },\n    listItemSelector: `.${styles['token-editor-field-property']}`,\n    fallbackSelector: `.${styles['token-editor-add-token']}`,\n  });\n\n  const groups = tempGroup.map((temporaryToken, index) => {\n    const setTemporaryToken = (newToken: InternalToken) => {\n      const copy = [...tempGroup];\n      copy[index] = newToken;\n      if (newToken.property?.getTokenType(newToken.operator) === 'enum' && newToken.value === null) {\n        newToken.value = [];\n      }\n      onChangeTempGroup(copy);\n    };\n    const property = temporaryToken.property;\n    const onChangePropertyKey = (newPropertyKey: undefined | string) => {\n      const filteringProperty = filteringProperties.reduce<InternalFilteringProperty | undefined>(\n        (acc, property) => (property.propertyKey === newPropertyKey ? property : acc),\n        undefined\n      );\n      const allowedOperators = filteringProperty ? getAllowedOperators(filteringProperty) : freeTextFiltering.operators;\n      const operator =\n        temporaryToken.operator && allowedOperators.indexOf(temporaryToken.operator) !== -1\n          ? temporaryToken.operator\n          : allowedOperators[0];\n      const matchedProperty = filteringProperties.find(property => property.propertyKey === newPropertyKey) ?? null;\n      setTemporaryToken({ ...temporaryToken, property: matchedProperty, operator, value: null });\n    };\n\n    const operator = temporaryToken.operator;\n    const onChangeOperator = (newOperator: ComparisonOperator) => {\n      const currentOperatorTokenType = property?.getTokenType(operator);\n      const newOperatorTokenType = property?.getTokenType(newOperator);\n      const shouldClearValue = currentOperatorTokenType !== newOperatorTokenType;\n      const value = shouldClearValue ? null : temporaryToken.value;\n      setTemporaryToken({ ...temporaryToken, operator: newOperator, value });\n    };\n\n    const value = temporaryToken.value;\n    const onChangeValue = (newValue: unknown) => {\n      setTemporaryToken({ ...temporaryToken, value: newValue });\n    };\n\n    return { token: temporaryToken, property, onChangePropertyKey, operator, onChangeOperator, value, onChangeValue };\n  });\n\n  return (\n    <div className={styles['token-editor']} ref={tokenListRef}>\n      <TokenEditorFields\n        supportsGroups={supportsGroups}\n        tokens={groups.map(group => group.token)}\n        onRemove={index => {\n          const updated = tempGroup.filter((_, existingIndex) => existingIndex !== index);\n          onChangeTempGroup(updated);\n          setNextFocusIndex(index);\n        }}\n        onRemoveFromGroup={index => {\n          const releasedToken = tempGroup[index];\n          const updated = tempGroup.filter((_, existingIndex) => existingIndex !== index);\n          onChangeTempGroup(updated);\n          onTokenRelease(releasedToken);\n          setNextFocusIndex(index);\n        }}\n        onSubmit={onSubmit}\n        renderProperty={index => (\n          <PropertyInput\n            property={groups[index].property}\n            onChangePropertyKey={groups[index].onChangePropertyKey}\n            asyncProps={asyncProperties ? asyncProps : null}\n            filteringProperties={filteringProperties}\n            onLoadItems={onLoadItems}\n            customGroupsText={customGroupsText}\n            i18nStrings={i18nStrings}\n            freeTextFiltering={freeTextFiltering}\n          />\n        )}\n        renderOperator={index => (\n          <OperatorInput\n            property={groups[index].property}\n            operator={groups[index].operator}\n            onChangeOperator={groups[index].onChangeOperator}\n            i18nStrings={i18nStrings}\n            freeTextFiltering={freeTextFiltering}\n            triggerVariant={supportsGroups ? 'label' : 'option'}\n          />\n        )}\n        renderValue={index => (\n          <ValueInput\n            property={groups[index].property}\n            operator={groups[index].operator}\n            value={groups[index].value}\n            onChangeValue={groups[index].onChangeValue}\n            asyncProps={asyncProps}\n            filteringOptions={filteringOptions}\n            onLoadItems={onLoadItems}\n            i18nStrings={i18nStrings}\n          />\n        )}\n        i18nStrings={i18nStrings}\n      />\n\n      {supportsGroups && (\n        <div className={clsx(styles['token-editor-add-token'], testUtilStyles['token-editor-token-add-actions'])}>\n          <InternalButtonDropdown\n            variant=\"normal\"\n            ariaLabel={i18nStrings.tokenEditorAddTokenActionsAriaLabel}\n            items={tokensToCapture.map((token, index) => {\n              return {\n                id: index.toString(),\n                text: i18nStrings.tokenEditorAddExistingTokenLabel?.(token) ?? '',\n                ariaLabel: i18nStrings.tokenEditorAddExistingTokenAriaLabel?.(token) ?? '',\n              };\n            })}\n            onItemClick={({ detail }) => {\n              const index = parseInt(detail.id);\n              if (!isNaN(index) && tokensToCapture[index]) {\n                onChangeTempGroup([...tempGroup, { ...tokensToCapture[index] }]);\n                setNextFocusIndex(groups.length);\n                onTokenCapture(tokensToCapture[index]);\n              }\n            }}\n            disabled={tokensToCapture.length === 0}\n            showMainActionOnly={tokensToCapture.length === 0}\n            mainAction={{\n              text: i18nStrings.tokenEditorAddNewTokenLabel ?? '',\n              onClick: () => {\n                const lastTokenInGroup = tempGroup[tempGroup.length - 1];\n                const property = lastTokenInGroup ? lastTokenInGroup.property : null;\n                const operator = property?.defaultOperator ?? ':';\n                onChangeTempGroup([...tempGroup, { property, operator, value: null }]);\n                setNextFocusIndex(groups.length);\n              },\n            }}\n          />\n        </div>\n      )}\n\n      <div className={styles['token-editor-actions']}>\n        <span\n          {...getAnalyticsMetadataAttribute({\n            action: 'editCancel',\n          } as Partial<GeneratedAnalyticsMetadataPropertyEditCancel>)}\n        >\n          <InternalButton\n            formAction=\"none\"\n            variant=\"link\"\n            className={clsx(styles['token-editor-cancel'], testUtilStyles['token-editor-cancel'])}\n            onClick={onDismiss}\n          >\n            {i18nStrings.cancelActionText}\n          </InternalButton>\n        </span>\n        <span\n          {...getAnalyticsMetadataAttribute({\n            action: 'editConfirm',\n          } as Partial<GeneratedAnalyticsMetadataPropertyEditConfirm>)}\n        >\n          <InternalButton\n            className={clsx(styles['token-editor-submit'], testUtilStyles['token-editor-submit'])}\n            formAction=\"none\"\n            onClick={onSubmit}\n          >\n            {i18nStrings.applyActionText}\n          </InternalButton>\n        </span>\n      </div>\n    </div>\n  );\n}\n\ninterface TokenEditorLayout {\n  tokens: InternalToken[];\n  supportsGroups: boolean;\n  onRemove: (index: number) => void;\n  onRemoveFromGroup: (index: number) => void;\n  onSubmit: () => void;\n  renderProperty: (index: number) => React.ReactNode;\n  renderOperator: (index: number) => React.ReactNode;\n  renderValue: (index: number) => React.ReactNode;\n  i18nStrings: I18nStringsInternal;\n}\n\nfunction TokenEditorFields({\n  tokens,\n  supportsGroups,\n  onRemove,\n  onRemoveFromGroup,\n  onSubmit,\n  renderProperty,\n  renderOperator,\n  renderValue,\n  i18nStrings,\n}: TokenEditorLayout) {\n  const isMobile = useMobile();\n  const isNarrow = isMobile || !supportsGroups;\n\n  const propertyLabelId = useUniqueId();\n  const operatorLabelId = useUniqueId();\n  const valueLabelId = useUniqueId();\n  const headers = (\n    <div className={styles['token-editor-grid-group']}>\n      <div id={propertyLabelId} className={styles['token-editor-grid-header']}>\n        {i18nStrings.propertyText}\n      </div>\n      <div id={operatorLabelId} className={styles['token-editor-grid-header']}>\n        {i18nStrings.operatorText}\n      </div>\n      <div id={valueLabelId} className={styles['token-editor-grid-header']}>\n        {i18nStrings.valueText}\n      </div>\n      <div className={styles['token-editor-grid-header']}></div>\n    </div>\n  );\n\n  return (\n    <form\n      className={clsx(\n        styles['token-editor-grid'],\n        isNarrow && styles['token-editor-narrow'],\n        styles['token-editor-form']\n      )}\n      onSubmit={event => {\n        event.preventDefault();\n        onSubmit();\n      }}\n    >\n      {!isNarrow && headers}\n\n      {tokens.map((token, index) => (\n        <div\n          key={index}\n          role=\"group\"\n          aria-label={i18nStrings.formatToken(token).formattedText}\n          className={clsx(styles['token-editor-grid-group'], supportsGroups && styles['token-editor-supports-groups'])}\n        >\n          <div className={clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])}>\n            <TokenEditorField\n              isNarrow={isNarrow}\n              label={i18nStrings.propertyText}\n              labelId={propertyLabelId}\n              className={clsx(styles['token-editor-field-property'], testUtilStyles['token-editor-field-property'])}\n              index={index}\n            >\n              {renderProperty(index)}\n            </TokenEditorField>\n          </div>\n\n          <div className={clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])}>\n            <TokenEditorField\n              isNarrow={isNarrow}\n              label={i18nStrings.operatorText}\n              labelId={operatorLabelId}\n              className={clsx(styles['token-editor-field-operator'], testUtilStyles['token-editor-field-operator'])}\n              index={index}\n            >\n              {renderOperator(index)}\n            </TokenEditorField>\n          </div>\n\n          <div className={clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])}>\n            <TokenEditorField\n              isNarrow={isNarrow}\n              label={i18nStrings.valueText}\n              labelId={valueLabelId}\n              className={clsx(styles['token-editor-field-value'], testUtilStyles['token-editor-field-value'])}\n              index={index}\n            >\n              {renderValue(index)}\n            </TokenEditorField>\n          </div>\n\n          {supportsGroups && (\n            <div className={clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])}>\n              <div className={styles['token-editor-remove-token']}>\n                <TokenEditorRemoveActions\n                  isNarrow={isNarrow}\n                  ariaLabel={i18nStrings.tokenEditorTokenActionsAriaLabel?.(token) ?? ''}\n                  mainActionAriaLabel={i18nStrings.tokenEditorTokenRemoveAriaLabel?.(token) ?? ''}\n                  disabled={tokens.length === 1}\n                  items={[\n                    {\n                      id: 'remove',\n                      text: i18nStrings.tokenEditorTokenRemoveLabel ?? '',\n                      disabled: token.standaloneIndex !== undefined,\n                    },\n                    { id: 'remove-from-group', text: i18nStrings.tokenEditorTokenRemoveFromGroupLabel ?? '' },\n                  ]}\n                  onItemClick={itemId => {\n                    switch (itemId) {\n                      case 'remove':\n                        return onRemove(index);\n                      case 'remove-from-group':\n                        return onRemoveFromGroup(index);\n                    }\n                  }}\n                  index={index}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      ))}\n    </form>\n  );\n}\n\nfunction TokenEditorField({\n  isNarrow,\n  label,\n  labelId,\n  children,\n  className,\n  index,\n}: {\n  isNarrow: boolean;\n  label: React.ReactNode;\n  labelId: string;\n  children: React.ReactNode;\n  className: string;\n  index: number;\n}) {\n  return isNarrow ? (\n    <InternalFormField label={label} className={className} stretch={true} data-testindex={index}>\n      {children}\n    </InternalFormField>\n  ) : (\n    <FormFieldContext.Provider value={{ ariaLabelledby: labelId }}>\n      <InternalFormField className={className} data-testindex={index}>\n        {children}\n      </InternalFormField>\n    </FormFieldContext.Provider>\n  );\n}\n\nfunction TokenEditorRemoveActions({\n  isNarrow,\n  ariaLabel,\n  mainActionAriaLabel,\n  disabled,\n  items,\n  onItemClick,\n  index,\n}: {\n  isNarrow: boolean;\n  ariaLabel: string;\n  mainActionAriaLabel: string;\n  disabled: boolean;\n  items: ButtonDropdownProps.Item[];\n  onItemClick: (itemId: string) => void;\n  index: number;\n}) {\n  return isNarrow ? (\n    <InternalButtonDropdown\n      variant=\"normal\"\n      ariaLabel={ariaLabel}\n      items={items.slice(1)}\n      onItemClick={({ detail }) => onItemClick(detail.id)}\n      disabled={disabled}\n      mainAction={{\n        text: items[0].text,\n        onClick: () => onItemClick(items[0].id),\n        disabled,\n        ariaLabel: mainActionAriaLabel,\n      }}\n      className={testUtilStyles['token-editor-token-remove-actions']}\n      data-testindex={index}\n    />\n  ) : (\n    <InternalButtonDropdown\n      variant=\"icon\"\n      ariaLabel={ariaLabel}\n      items={items}\n      onItemClick={({ detail }) => onItemClick(detail.id)}\n      disabled={disabled}\n      className={testUtilStyles['token-editor-token-remove-actions']}\n      data-testindex={index}\n    />\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}